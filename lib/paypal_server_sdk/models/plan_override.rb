# paypal_server_sdk
#
# This file was automatically generated by APIMATIC v3.0
# ( https://www.apimatic.io ).

module PaypalServerSdk
  # An inline plan object to customise the subscription. You can override plan
  # level default attributes by providing customised values for the subscription
  # in this object.
  class PlanOverride < BaseModel
    SKIP = Object.new
    private_constant :SKIP

    # An array of billing cycles for trial billing and regular billing. The
    # subscription billing cycle definition has to adhere to the plan billing
    # cycle definition.
    # @return [Array[BillingCycleOverride]]
    attr_accessor :billing_cycles

    # The payment preferences to override at subscription level.
    # @return [PaymentPreferencesOverride]
    attr_accessor :payment_preferences

    # The tax details.
    # @return [TaxesOverride]
    attr_accessor :taxes

    # A mapping from model property names to API property names.
    def self.names
      @_hash = {} if @_hash.nil?
      @_hash['billing_cycles'] = 'billing_cycles'
      @_hash['payment_preferences'] = 'payment_preferences'
      @_hash['taxes'] = 'taxes'
      @_hash
    end

    # An array for optional fields
    def self.optionals
      %w[
        billing_cycles
        payment_preferences
        taxes
      ]
    end

    # An array for nullable fields
    def self.nullables
      []
    end

    def initialize(billing_cycles: SKIP, payment_preferences: SKIP, taxes: SKIP)
      @billing_cycles = billing_cycles unless billing_cycles == SKIP
      @payment_preferences = payment_preferences unless payment_preferences == SKIP
      @taxes = taxes unless taxes == SKIP
    end

    # Creates an instance of the object from a hash.
    def self.from_hash(hash)
      return nil unless hash

      # Extract variables from the hash.
      # Parameter is an array, so we need to iterate through it
      billing_cycles = nil
      unless hash['billing_cycles'].nil?
        billing_cycles = []
        hash['billing_cycles'].each do |structure|
          billing_cycles << (BillingCycleOverride.from_hash(structure) if structure)
        end
      end

      billing_cycles = SKIP unless hash.key?('billing_cycles')
      payment_preferences = PaymentPreferencesOverride.from_hash(hash['payment_preferences']) if
        hash['payment_preferences']
      taxes = TaxesOverride.from_hash(hash['taxes']) if hash['taxes']

      # Create object from extracted values.
      PlanOverride.new(billing_cycles: billing_cycles,
                       payment_preferences: payment_preferences,
                       taxes: taxes)
    end

    # Provides a human-readable string representation of the object.
    def to_s
      class_name = self.class.name.split('::').last
      "<#{class_name} billing_cycles: #{@billing_cycles}, payment_preferences:"\
      " #{@payment_preferences}, taxes: #{@taxes}>"
    end

    # Provides a debugging-friendly string with detailed object information.
    def inspect
      class_name = self.class.name.split('::').last
      "<#{class_name} billing_cycles: #{@billing_cycles.inspect}, payment_preferences:"\
      " #{@payment_preferences.inspect}, taxes: #{@taxes.inspect}>"
    end
  end
end
