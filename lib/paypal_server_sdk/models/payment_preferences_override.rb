# paypal_server_sdk
#
# This file was automatically generated by APIMATIC v3.0
# ( https://www.apimatic.io ).

module PaypalServerSdk
  # The payment preferences to override at subscription level.
  class PaymentPreferencesOverride < BaseModel
    SKIP = Object.new
    private_constant :SKIP

    # Indicates whether to automatically bill the outstanding amount in the next
    # billing cycle.
    # @return [TrueClass | FalseClass]
    attr_accessor :auto_bill_outstanding

    # The currency and amount for a financial transaction, such as a balance or
    # payment due.
    # @return [Money]
    attr_accessor :setup_fee

    # The action to take on the subscription if the initial payment for the
    # setup fails.
    # @return [SetupFeeFailureAction]
    attr_accessor :setup_fee_failure_action

    # The maximum number of payment failures before a subscription is suspended.
    # For example, if `payment_failure_threshold` is `2`, the subscription
    # automatically updates to the `SUSPEND` state if two consecutive payments
    # fail.
    # @return [Integer]
    attr_accessor :payment_failure_threshold

    # A mapping from model property names to API property names.
    def self.names
      @_hash = {} if @_hash.nil?
      @_hash['auto_bill_outstanding'] = 'auto_bill_outstanding'
      @_hash['setup_fee'] = 'setup_fee'
      @_hash['setup_fee_failure_action'] = 'setup_fee_failure_action'
      @_hash['payment_failure_threshold'] = 'payment_failure_threshold'
      @_hash
    end

    # An array for optional fields
    def self.optionals
      %w[
        auto_bill_outstanding
        setup_fee
        setup_fee_failure_action
        payment_failure_threshold
      ]
    end

    # An array for nullable fields
    def self.nullables
      []
    end

    def initialize(auto_bill_outstanding: SKIP, setup_fee: SKIP,
                   setup_fee_failure_action: SKIP,
                   payment_failure_threshold: SKIP)
      @auto_bill_outstanding = auto_bill_outstanding unless auto_bill_outstanding == SKIP
      @setup_fee = setup_fee unless setup_fee == SKIP
      @setup_fee_failure_action = setup_fee_failure_action unless setup_fee_failure_action == SKIP
      unless payment_failure_threshold == SKIP
        @payment_failure_threshold =
          payment_failure_threshold
      end
    end

    # Creates an instance of the object from a hash.
    def self.from_hash(hash)
      return nil unless hash

      # Extract variables from the hash.
      auto_bill_outstanding =
        hash.key?('auto_bill_outstanding') ? hash['auto_bill_outstanding'] : SKIP
      setup_fee = Money.from_hash(hash['setup_fee']) if hash['setup_fee']
      setup_fee_failure_action =
        hash.key?('setup_fee_failure_action') ? hash['setup_fee_failure_action'] : SKIP
      payment_failure_threshold =
        hash.key?('payment_failure_threshold') ? hash['payment_failure_threshold'] : SKIP

      # Create object from extracted values.
      PaymentPreferencesOverride.new(auto_bill_outstanding: auto_bill_outstanding,
                                     setup_fee: setup_fee,
                                     setup_fee_failure_action: setup_fee_failure_action,
                                     payment_failure_threshold: payment_failure_threshold)
    end

    # Provides a human-readable string representation of the object.
    def to_s
      class_name = self.class.name.split('::').last
      "<#{class_name} auto_bill_outstanding: #{@auto_bill_outstanding}, setup_fee: #{@setup_fee},"\
      " setup_fee_failure_action: #{@setup_fee_failure_action}, payment_failure_threshold:"\
      " #{@payment_failure_threshold}>"
    end

    # Provides a debugging-friendly string with detailed object information.
    def inspect
      class_name = self.class.name.split('::').last
      "<#{class_name} auto_bill_outstanding: #{@auto_bill_outstanding.inspect}, setup_fee:"\
      " #{@setup_fee.inspect}, setup_fee_failure_action: #{@setup_fee_failure_action.inspect},"\
      " payment_failure_threshold: #{@payment_failure_threshold.inspect}>"
    end
  end
end
