# paypal_server_sdk
#
# This file was automatically generated by APIMATIC v3.0
# ( https://www.apimatic.io ).

module PaypalServerSdk
  # The transaction details.
  class SubscriptionTransactionDetails < BaseModel
    SKIP = Object.new
    private_constant :SKIP

    # The status of the captured payment.
    # @return [CaptureStatus]
    attr_accessor :status

    # The PayPal-generated transaction ID.
    # @return [String]
    attr_accessor :id

    # The breakdown details for the amount. Includes the gross, tax, fee, and
    # shipping amounts.
    # @return [SubscriptionAmountWithBreakdown]
    attr_accessor :amount_with_breakdown

    # The name of the party.
    # @return [SubscriptionPayerName]
    attr_accessor :payer_name

    # The internationalized email address. Note: Up to 64 characters are allowed
    # before and 255 characters are allowed after the @ sign. However, the
    # generally accepted maximum length for an email address is 254 characters.
    # The pattern verifies that an unquoted @ sign exists.
    # @return [String]
    attr_accessor :payer_email

    # The date and time, in [Internet date and time
    # format](https://tools.ietf.org/html/rfc3339#section-5.6). Seconds are
    # required while fractional seconds are optional. Note: The regular
    # expression provides guidance but does not reject all invalid dates.
    # @return [String]
    attr_accessor :time

    # A mapping from model property names to API property names.
    def self.names
      @_hash = {} if @_hash.nil?
      @_hash['status'] = 'status'
      @_hash['id'] = 'id'
      @_hash['amount_with_breakdown'] = 'amount_with_breakdown'
      @_hash['payer_name'] = 'payer_name'
      @_hash['payer_email'] = 'payer_email'
      @_hash['time'] = 'time'
      @_hash
    end

    # An array for optional fields
    def self.optionals
      %w[
        status
        payer_name
        payer_email
      ]
    end

    # An array for nullable fields
    def self.nullables
      []
    end

    def initialize(id:, amount_with_breakdown:, time:, status: SKIP,
                   payer_name: SKIP, payer_email: SKIP)
      @status = status unless status == SKIP
      @id = id
      @amount_with_breakdown = amount_with_breakdown
      @payer_name = payer_name unless payer_name == SKIP
      @payer_email = payer_email unless payer_email == SKIP
      @time = time
    end

    # Creates an instance of the object from a hash.
    def self.from_hash(hash)
      return nil unless hash

      # Extract variables from the hash.
      id = hash.key?('id') ? hash['id'] : nil
      if hash['amount_with_breakdown']
        amount_with_breakdown = SubscriptionAmountWithBreakdown.from_hash(hash['amount_with_breakdown'])
      end
      time = hash.key?('time') ? hash['time'] : nil
      status = hash.key?('status') ? hash['status'] : SKIP
      payer_name = SubscriptionPayerName.from_hash(hash['payer_name']) if hash['payer_name']
      payer_email = hash.key?('payer_email') ? hash['payer_email'] : SKIP

      # Create object from extracted values.
      SubscriptionTransactionDetails.new(id: id,
                                         amount_with_breakdown: amount_with_breakdown,
                                         time: time,
                                         status: status,
                                         payer_name: payer_name,
                                         payer_email: payer_email)
    end

    # Provides a human-readable string representation of the object.
    def to_s
      class_name = self.class.name.split('::').last
      "<#{class_name} status: #{@status}, id: #{@id}, amount_with_breakdown:"\
      " #{@amount_with_breakdown}, payer_name: #{@payer_name}, payer_email: #{@payer_email}, time:"\
      " #{@time}>"
    end

    # Provides a debugging-friendly string with detailed object information.
    def inspect
      class_name = self.class.name.split('::').last
      "<#{class_name} status: #{@status.inspect}, id: #{@id.inspect}, amount_with_breakdown:"\
      " #{@amount_with_breakdown.inspect}, payer_name: #{@payer_name.inspect}, payer_email:"\
      " #{@payer_email.inspect}, time: #{@time.inspect}>"
    end
  end
end
